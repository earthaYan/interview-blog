# 基础知识点

## 盒子模型

作用：定义了盒子的不同部分（外边距、边框、内边距和内容）如何协同工作，以创建一个在页面上可以看到的盒子

![盒模型](./images/box-model.png)

### CSS 标准盒模型

盒子的 width 属性就是 content 的 width

盒子实际占用空间=width+padding+border

### CSS 替代盒模型

盒子的 width 属性就是盒子实际占用的空间

语法：`box-sizing:border-box`

## margin

### 纵向重叠

结论：区块的上下外边距有时会合并（折叠）为单个边距，其大小为两个边距中的最大值

形成场景：

1. 相邻的兄弟元素
2. 没有内容将父元素和后代元素分开
3. 空区块

> 有设定浮动和绝对定位的元素不会发生外边距折叠

### margin 边距为负数

结论：外边距设置为正时推开周边元素；设置为负时，收缩空间。

### margin 值为百分比

指的是相对于包含块的宽度或者高度

## BFC 区块格式化上下文

开了 BFC = 自己成为一个“独立小世界”，内部布局规则只影响自己，不会外溢，也不受外界干扰

### 创建方法

- float 值不为 none 的元素
- position 值为 absolute 或 fixed 的元素
- display 值为 inline-block/table 及 table 相关的元素
- overflow 值不为 visible 或 clip 的块级元素
- display 值为 flow-root 的元素
- contain 值为 layout、content 或 paint 的元素
- display 值为 flex 或 inline-flex 元素的直接子元素，如果它们本身既不是弹性、网格也不是表格容器。
- display 值为 grid 或 inline-grid 元素的直接子元素，如果它们本身既不是弹性、网格也不是表格容器。
- 多列容器（column-count 或 column-width 值不为 auto，且含有 column-count: 1 的元素）。
- column-span 值为 all 的元素

## flex 布局和 grid 布局

Flex 是一维布局，只控制主轴方向（横向或纵向），适合内容驱动的场景，如导航栏、按钮组。Grid 是二维布局，同时控制行与列，适合结构化的布局，如页面框架和复杂网格。Flex 简单灵活，Grid 强大精确。两者并不是对立，而是互补：大布局用 Grid，小组件用 Flex。

```css
.grid {
  display: grid;
  gap: 10px;
  /*  auto-fit:
  auto-fill:
  */
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  grid-template-rows: masonry;
}
```

TODO:grid 布局相关

## 重排和重绘

| 属性类别       | 示例                                         | 影响                                 |
| -------------- | -------------------------------------------- | ------------------------------------ |
| 重排 Reflow    | width, height, padding, margin               | 布局和尺寸变化，影响子元素和兄弟元素 |
| 重绘 Repaint   | color, background-color, visibility, outline | 外观变化，不影响布局                 |
| 合成 Composite | transform, opacity                           | GPU 层渲染，不触发 Reflow 或 Repaint |

## transform 和普通 position top 属性等

top 是定位属性，会改变元素在文档中的几何位置，触发重排(reflow)和重绘(repaint)，影响布局和周围元素；transform: translate() 是视觉变换属性，不改变文档流，占据原位置，只触发 合成(composite) 渲染,属于 GPU 加速，性能高、适合动画和平滑过渡。
