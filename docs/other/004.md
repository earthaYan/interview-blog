# 工程化

## webpack 基础配置

步骤

1. 新建文件夹，在文件夹内执行`npm init`，生成最原始的 package.json 文件
2. 安装 webpack 依赖`npm install webpack webpack-cli webpack-dev-server -D`
3. 新建配置文件 webpack.config.js 并进行编辑
4. 在 package.json 文件添加 scripts

开发环境：webpack-dev-server；生产环境：webpack

```js [webpack.config.js]
const path = require("path");
const HtmlWebpackPlugins = require("html-webpack-plugin");

module.exports = {
  mode: "development",
  entry: path.join(__dirname, "src", "index.js"),
  output: {
    filename: "bundle.js",
    path: path.join(__dirname, "dist"),
  },
  plugins: [
    new HtmlWebpackPlugins({
      template: path.join(__dirname, "src", "index.html"),
      filename: "index.html",
    }),
  ],
  devServer: {
    port: 3000,
  },
};
```

## babel 基础配置

作用：将 es6 语法转换为 es5

::: tip
Q:为什么有了 babel 还会存在浏览器兼容问题？？

A:babel 只是转换语法，但是一些新的浏览器 API，如 fetch，promise 等并不会被转换,这些需要通过 polyfill 解决
:::

步骤：

1. 安装依赖`npm install @babel/core @babel/preset-env babel-loader -D`
2. 新建配置文件.babelrc
3. 在 webpack 中配置针对 js 的 babel

::: code-group

```json [.babelrc]
{
  "presets": ["@babel/preset-env"]
}
```

```js [webpack.config.js]
module.exports = {
  module: {
    rules: [
      {
        test: /\.js$/,
        loader: "babel-loader",
        include: path.join(__dirname, "src"),
        exclude: /node_modules/,
      },
    ],
  },
};
```

:::

三个依赖详解：

- @babel/core:核心，执行语法转换功能
- @babel/preset-env:babel 配置集合
- babel-loader:给 webpack 使用的插件
