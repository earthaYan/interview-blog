# 项目重启报错

## 背景

为了完成导出 excel 需求，引入了第三方库`xlsx`,但重启后却报错，报错信息如下：

> Cannot find type definition file for 'minimatch'.
> The file is in the program because:
> Entry point for implicit type library 'minimatch'

通过`npm ls minimatch`查询是哪些

```bash
dtle-demo@0.1.0 E:\companyProject\udup-frontend
├─┬ @ant-design/charts@1.4.3
│ └─┬ @ant-design/plots@1.2.6
│   └─┬ @antv/g2plot@2.4.35
│     └─┬ fmin@0.0.2
│       └─┬ tape@4.17.0
│         └─┬ dotignore@0.1.2
│           └── minimatch@3.1.2 deduped
├─┬ npm-run-all@4.1.5
│ └── minimatch@3.1.2
└─┬ react-scripts@4.0.3
  ├─┬ babel-jest@26.6.3
  │ └─┬ babel-plugin-istanbul@6.1.1
  │   └─┬ test-exclude@6.0.0
  │     └── minimatch@3.1.2 deduped
  ├─┬ eslint-plugin-import@2.32.0
  │ └── minimatch@3.1.2 deduped
  ├─┬ eslint-plugin-jsx-a11y@6.10.2
  │ └── minimatch@3.1.2 deduped
  ├─┬ eslint-plugin-react@7.37.5
  │ └── minimatch@3.1.2 deduped
  ├─┬ eslint@7.32.0
  │ ├─┬ @eslint/eslintrc@0.4.3
  │ │ └── minimatch@3.1.2 deduped
  │ ├─┬ @humanwhocodes/config-array@0.5.0
  │ │ └── minimatch@3.1.2 deduped
  │ └── minimatch@3.1.2 deduped
  ├─┬ jest-circus@26.6.0
  │ └─┬ jest-runtime@26.6.3
  │   └─┬ glob@7.2.3
  │     └── minimatch@3.1.2 deduped
  ├─┬ react-dev-utils@11.0.4
  │ ├─┬ fork-ts-checker-webpack-plugin@4.1.6
  │ │ └── minimatch@3.1.2 deduped
  │ └─┬ recursive-readdir@2.2.2
  │   └── minimatch@3.0.4
  └─┬ webpack-dev-server@3.11.1
    └─┬ del@4.1.1
      └─┬ @types/glob@7.2.0
        └─┬ @types/minimatch@6.0.0
          └── minimatch@10.1.1
```

说明`@types/minimatch` 是间接安装的,但看上去和 xlsx 没有关系，实际报错原因是`安装 xlsx 引发依赖链重新解析，最终触发 minimatch 类型加载错误`

尝试使用`yarn add -D @types/minimatch`,重启后依旧报错
