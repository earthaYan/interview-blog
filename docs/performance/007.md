---
outline: deep
---

# svg 雪碧图

- svg 优点：矢量格式，可缩放、清晰度高，可通过 css 控制
- 缺点：每个图片被独立请求，过多的时候会需要大量 http 请求

雪碧图：将多个小图标合并为大图，通过 css 背景定位显示指定区域，最终减少 http 请求次数，提高网页加载速度

## 优化 svg 图标原因：

1. 减少 http 请求
2. 提升缓存效率，缓存整个图标集，加快后续加载
3. 减小文件体积，合并后文件更易压缩(gzip/brotli)，传输更快

## 实现方式

- `<symbol>`+`<use>`方式

::: code-group

```xml [雪碧图文件]
  <!-- public/sprite.svg -->
  <svg xmlns="http://www.w3.org/2000/svg">
    <!-- 搜索图标 -->
    <symbol id="icon-search" viewBox="0 0 24 24">
      <path fill="currentColor" d="M10 2a8 8 0 1 0 4.9 14.3L20 21.4l1.4-1.4-5.1-5.1A8 8 0 0 0 10 2z"/>
    </symbol>

    <!-- 用户图标 -->
    <symbol id="icon-user" viewBox="0 0 24 24">
      <circle cx="12" cy="8" r="4" fill="currentColor"/>
      <path fill="currentColor" d="M4 20c0-4 4-6 8-6s8 2 8 6v2H4z"/>
    </symbol>
  </svg>
```

```js [调用]
export default function Icon({
  name,
  width = 24,
  height = 24,
  className = "",
}) {
  return (
    <svg width={width} height={height} className={className} aria-hidden="true">
      <use href={`/sprite.svg#${name}`} />
    </svg>
  );
}
```

:::
