---
outline: deep
---

# 优化字体加载

现象：

- FOIT：不可见文本闪现
- FOUT:无样式文本闪现

这些都是浏览器默认的字体加载策略表现，跨浏览器可能表现不同，所以需开发者显式注明渲染策略

```css
@font-face {
  font-family: "Custom Font";
  src: url("/fonts/my-font.woff2") format("woff2");
  font-display: swap;
}
```

- swap:立刻使用后备字体渲染，自定义字体准备好之后再替换【新闻内容】
- block:大约 3 秒的阻塞期，超时使用后备字体，自定义字体加载完成再替换【品牌，主标题】
- fallback:大约 100ms 的阻塞期，超时则使用后备字体，后面不再替换【不希望出现明显字体闪变】
- optional:fallback 类似，但弱网环境下，浏览器会直接不加载自定义字体【非核心字体】
