# vue2-基本使用

## 基本使用

- 插值/表达式：`{{flag?'yes':'no'}}`
- 指令/动态属性:`<p :id="dynamicId">动态属性id </p>`
- v-html：会有 XSS 风险，且会覆盖 children:`<div v-html="<i>斜体</i>111">被覆盖</div>`

## computed 和 watch

1. computed 有缓存，data 不变则不会重新计算
2. watch 默认只进行潜层监听，如果需要深层监听的话需要使用 handler 配合 deep 属性
3. watch 监听引用类型，拿不到 oldVal,因为指针相同，指向的实际地址是一样的

## v-if 和 v-show

- v-if 是真正的条件渲染，会销毁和重建 DOM；
- v-show 只是切换 CSS display，DOM 一直存在。

场景：v-if 适合不频繁切换；v-show 适合频繁切换。

## 循环

v-for 可以用于遍历数组和对象，每个 item 必须有 key，且不能为 random 或者 index

```vue
<!-- 遍历数组 -->
<li v-for="(item, index) in listArr" :key="item.id">{item.content}</li>
<!-- 遍历对象 -->
<li v-for="(val, key, index) in listObj" :key="key">{{val}}</li>
```

v-for 不能和 v-if 不能放在一起使用，v-for 优先级高于 v-if

## event

- event 参数：有自定义参数的时候，event 以$event 的形式获取；他是一个原生的 Event 对象

```vue
<template>
  <div class="hello">
    <h1>{{ num }}</h1>
    <button @click="increment">+1</button>
    <button @click="increment2(2, $event)">+2</button>
  </div>
</template>

<script>
export default {
  name: "HelloWorld",
  data: () => {
    return {
      num: 20,
    };
  },
  methods: {
    increment(event) {
      this.num++;
      console.log(event);
    },
    increment2(step, event) {
      this.num = this.num + step;
      console.log(event);
    },
  },
};
</script>
```

- 事件修饰符/按键修饰符:`@click.stop`,`@submit.prevent`,`@click.ctrl.exact`
- 事件会被挂载到当前的元素

## 表单 v-model

- `v-model:trim=xxx`
- `v-model:lazy=xxx`:类似于防抖
- `v-model:number=xxx`
